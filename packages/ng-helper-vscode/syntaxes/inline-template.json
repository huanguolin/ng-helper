{
    "scopeName": "inline-template.ng",
    "injectionSelector": "L:meta.objectliteral.js  -comment -text.html, L:meta.objectliteral.ts -comment -text.html",
    "patterns": [
        {
            "include": "#inlineTemplate"
        }
    ],
    "repository": {
        "inlineTemplate": {
            "begin": "(template)\\s*(:)",
            "beginCaptures": {
                "1": {
                    "name": "meta.object-literal.key.js"
                },
                "2": {
                    "name": "meta.object-literal.key.js punctuation.separator.key-value.js"
                }
            },
            "end": "(?=,|})",
            "patterns": [
                {
                    "include": "#tsParenExpression"
                },
                {
                    "include": "#ngTemplate"
                }
            ]
        },
        "tsParenExpression": {
            "begin": "\\G\\s*(\\()",
            "beginCaptures": {
                "1": {
                    "name": "meta.brace.round.js"
                }
            },
            "end": "\\)",
            "endCaptures": {
                "0": {
                    "name": "meta.brace.round.js"
                }
            },
            "patterns": [
                {
                    "include": "#tsParenExpression"
                },
                {
                    "include": "#ngTemplate"
                }
            ]
        },
        "ngTemplate": {
            "begin": "\\G\\s*([`|'|\"])",
            "beginCaptures": {
                "1": {
                    "name": "string"
                }
            },
            "end": "\\1",
            "endCaptures": {
                "0": {
                    "name": "string"
                }
            },
            "contentName": "text.html.derivative",
            "patterns": [{
                "begin": "\\$\\{(?!\\{)",
                "beginCaptures": {
                    "0": {
                        "name": "punctuation.definition.template-expression.begin.js"
                    }
                },
                "end": "\\}",
                "endCaptures": {
                    "0": {
                        "name": "punctuation.definition.template-expression.end.js"
                    }
                },
                "patterns": [
                    {
                        "include": "meta.template.expression.js"
                    }
                ]
            },
                {
                    "include": "text.html.derivative"
                },
                {
                    "include": "template.ng"
                }
            ]
        }
    }
}